<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.somemate.demo.user.dao.UserDao">

    <select id="saveUser" resultType="org.somemate.demo.user.dto.User">
        select idx,
               openchat_link,
               name,
               userID,
               password,
               mbti,
               age,
               gender,
               profile,
               refreshToken
        from user
        where idx = 1
    </select>

    <update id="updateUser">
        UPDATE user
        SET name=#{name},
            openchat_link=#{openChatLink},
            password=#{password},
            mbti=#{mbti},
            age=#{age},
            gender=#{gender},
            profile=#{profile}
        WHERE idx = #{idx}
    </update>

    <!-- refreshToken 삭제 쿼리 -->
    <!-- refreshToken 삭제 쿼리 -->
    <delete id="deleteRefreshToken" parameterType="string">
        UPDATE user SET refreshToken = NULL WHERE refreshToken = #{refreshToken}
    </delete>
</mapper>